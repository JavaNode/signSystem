# "联盟杯"中小银行内训师大赛管理系统设计需求

## 1. 项目概述

### 1.1 项目背景
- 项目名称：联盟杯中小银行内训师大赛管理系统
- 比赛时间：2024年9月24日
- 参赛规模：约500人参赛，20名评委
- 主办方：亚联盟

### 1.2 项目目标
开发一套完整的比赛管理系统，支持签到、分组、抽签、评分、照片展示等功能，提高比赛组织效率，确保比赛公平公正进行。

## 2. 功能需求

### 2.1 用户角色定义
- **管理员**：比赛组织方，负责系统管理和监控
- **参赛者**：内训师参赛人员，使用手机扫码签到
- **评委**：比赛评审人员，使用手机进行评分

### 2.2 核心功能模块

#### 2.2.1 签到管理模块
**功能描述：**
- 参赛者通过扫描个人专属二维码完成签到
- 签到需要双重验证：手机后四位 + 真实姓名
- 系统自动验证预存数据库信息
- 签到成功后可查看比赛相关内容

**详细流程：**
1. 参赛者扫描个人二维码
2. 系统跳转到验证页面
3. 输入手机号后四位和真实姓名
4. 系统验证预存信息
5. 验证成功完成签到，记录签到时间
6. 显示个人信息、组别信息和比赛安排

**验证规则：**
- 手机后四位必须与预存信息匹配
- 姓名必须完全一致
- 防止重复签到
- 记录签到时间戳

#### 2.2.2 分组管理模块
**功能描述：**
- 分组信息预先配置在系统中
- 同一单位的所有参赛者必须在同一组
- 支持查看组内成员和签到进度

**分组原则：**
- 每个单位只能在一个组中（不拆分）
- 小单位可以多个合并成一组
- 大单位可以独立成组
- 确保各组人数相对均衡

**功能特性：**
- 预制分组信息导入
- 实时显示各组签到进度
- 支持组内成员信息查看
- 分组统计和报表生成

#### 2.2.3 抽签系统模块
**功能描述：**
- 支持出场顺序抽签
- 抽签结果实时公布
- 支持重新抽签（如需要）

**抽签类型：**
- 组别出场顺序抽签
- 个人出场顺序抽签
- 题目抽签（如适用）

#### 2.2.4 评分系统模块
**功能描述：**
- 评委使用手机端进行评分
- 评分范围：0-10分
- 支持实时评分和成绩统计

**评委端功能：**
- 评委登录验证
- 参赛者信息和照片展示
- 0-10分评分界面
- 评分历史查看
- 评分进度提示

**评分规则：**
- 每位评委独立评分
- 系统自动计算平均分
- 实时更新排行榜
- 支持评分修改（规定时间内）

#### 2.2.5 照片管理模块
**功能描述：**
- 参赛者照片预存和展示
- 支持照片上传和管理
- 评分时显示参赛者照片

**照片要求：**
- 格式：JPG/PNG
- 尺寸：建议300x400像素
- 大小：不超过2MB
- 命名规范：参赛者ID.jpg

#### 2.2.6 数据统计模块
**功能描述：**
- 实时签到统计
- 评分进度监控
- 成绩排行榜
- 各类报表生成

**统计内容：**
- 总体签到率和各单位签到率
- 签到时间分布
- 评分完成进度
- 实时成绩排名
- 获奖名单生成

#### 2.2.7 数据导出模块
**功能描述：**
- 支持多种格式数据导出
- 一键生成各类报表
- 支持批量导出功能

**导出内容：**
- 签到名单（Excel格式）
- 分组名单（Excel格式）
- 评分结果（Excel格式）
- 获奖名单（Word/PDF格式）
- 统计报表（Excel格式）

## 3. 技术需求

### 3.1 技术架构
**前端技术栈：**
- Vue 3 + TypeScript
- Element Plus UI框架
- Vite构建工具
- 响应式设计，支持多设备

**后端技术栈：**
- Python 3.8+
- FastAPI框架
- SQLAlchemy ORM
- SQLite数据库
- WebSocket实时通信

**移动端：**
- 响应式Web应用
- 支持二维码扫描
- 适配iOS/Android浏览器

### 3.2 系统架构设计
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   管理端(PC)    │    │   参赛者端(手机) │    │   评委端(手机)   │
│   Vue3 + EP     │    │   响应式Web     │    │   响应式Web     │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         └───────────────────────┼───────────────────────┘
                                 │
                    ┌─────────────────┐
                    │   FastAPI后端   │
                    │   WebSocket     │
                    └─────────────────┘
                                 │
                    ┌─────────────────┐
                    │   SQLite数据库  │
                    │   文件存储      │
                    └─────────────────┘
```

### 3.3 数据库设计

#### 3.3.1 参赛者表 (participants)
```sql
CREATE TABLE participants (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(100) NOT NULL,           -- 姓名
    organization VARCHAR(200) NOT NULL,   -- 单位
    phone VARCHAR(20) NOT NULL,           -- 完整手机号
    phone_last4 VARCHAR(4) NOT NULL,      -- 手机后四位
    photo_path VARCHAR(500),              -- 照片路径
    group_id INTEGER,                     -- 组别ID
    qr_code_id VARCHAR(50) UNIQUE,        -- 二维码标识
    is_checked_in BOOLEAN DEFAULT FALSE,  -- 是否已签到
    checkin_time DATETIME,                -- 签到时间
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### 3.3.2 分组表 (groups)
```sql
CREATE TABLE groups (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(50) NOT NULL,            -- 组名
    description TEXT,                     -- 组描述
    draw_order INTEGER,                   -- 抽签顺序
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### 3.3.3 评委表 (judges)
```sql
CREATE TABLE judges (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(100) NOT NULL,           -- 评委姓名
    username VARCHAR(50) UNIQUE NOT NULL, -- 登录用户名
    password VARCHAR(255) NOT NULL,       -- 登录密码
    organization VARCHAR(200),            -- 所属单位
    is_active BOOLEAN DEFAULT TRUE,       -- 是否激活
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### 3.3.4 评分表 (scores)
```sql
CREATE TABLE scores (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    participant_id INTEGER NOT NULL,      -- 参赛者ID
    judge_id INTEGER NOT NULL,            -- 评委ID
    score DECIMAL(3,1) NOT NULL,          -- 评分(0-10)
    round_number INTEGER DEFAULT 1,       -- 轮次
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (participant_id) REFERENCES participants(id),
    FOREIGN KEY (judge_id) REFERENCES judges(id),
    UNIQUE(participant_id, judge_id, round_number)
);
```

#### 3.3.5 签到记录表 (checkin_logs)
```sql
CREATE TABLE checkin_logs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    participant_id INTEGER NOT NULL,      -- 参赛者ID
    checkin_time DATETIME NOT NULL,       -- 签到时间
    ip_address VARCHAR(45),               -- IP地址
    user_agent TEXT,                      -- 用户代理
    FOREIGN KEY (participant_id) REFERENCES participants(id)
);
```

## 4. 界面设计需求

### 4.1 管理端界面 (PC端)

#### 4.1.1 仪表板
- 实时签到统计图表
- 各组签到进度
- 评分完成情况
- 系统状态监控

#### 4.1.2 参赛者管理
- 参赛者信息列表
- 批量导入功能
- 照片上传管理
- 二维码生成和打印

#### 4.1.3 分组管理
- 分组信息展示
- 组内成员管理
- 分组调整功能
- 分组统计报表

#### 4.1.4 签到监控
- 实时签到状态
- 签到时间线
- 未签到人员提醒
- 签到统计图表

#### 4.1.5 评分管理
- 评委管理
- 评分进度监控
- 成绩统计排名
- 评分异常处理

#### 4.1.6 抽签系统
- 抽签配置
- 抽签执行
- 结果公布
- 抽签历史

### 4.2 参赛者端界面 (手机端)

#### 4.2.1 签到验证页面
```
┌─────────────────────┐
│    签到验证          │
├─────────────────────┤
│ 请输入以下信息完成签到 │
│                     │
│ 手机后四位：         │
│ [____]              │
│                     │
│ 真实姓名：           │
│ [__________]        │
│                     │
│   [确认签到]         │
└─────────────────────┘
```

#### 4.2.2 签到成功页面
```
┌─────────────────────┐
│  ✅ 签到成功！       │
├─────────────────────┤
│ 👤 张三              │
│ 🏢 XX银行            │
│ 🎯 第3组             │
│ ⏰ 09:15 签到成功    │
├─────────────────────┤
│   [查看比赛内容]     │
│   [查看组员信息]     │
│   [查看比赛安排]     │
└─────────────────────┘
```

#### 4.2.3 比赛信息页面
- 比赛日程安排
- 个人参赛信息
- 组别信息
- 出场顺序（抽签后）

### 4.3 评委端界面 (手机端)

#### 4.3.1 评委登录页面
```
┌─────────────────────┐
│    评委登录系统      │
├─────────────────────┤
│ 评委编号：[_______]  │
│ 密码：   [_______]   │
│                     │
│      [登录]         │
└─────────────────────┘
```

#### 4.3.2 评分界面
```
┌─────────────────────┐
│  第3组 - 张三        │
│  XX银行              │
├─────────────────────┤
│       [照片]         │
├─────────────────────┤
│ 评分 (0-10分)：      │
│ ○1 ○2 ○3 ○4 ○5      │
│ ○6 ○7 ○8 ○9 ○10     │
│                     │
│ 当前得分：8.5分      │
│                     │
│   [提交评分]         │
│   [下一位]           │
└─────────────────────┘
```

## 5. 非功能性需求

### 5.1 性能需求
- 系统支持500人同时在线
- 页面响应时间 < 2秒
- 数据库查询响应时间 < 1秒
- 支持高并发签到操作

### 5.2 安全需求
- 用户身份验证和授权
- 数据传输加密(HTTPS)
- 防止SQL注入和XSS攻击
- 操作日志记录

### 5.3 可用性需求
- 系统可用性 > 99%
- 支持数据备份和恢复
- 异常情况下的降级处理
- 离线数据缓存机制

### 5.4 兼容性需求
- 支持主流浏览器(Chrome, Safari, Firefox)
- 支持iOS和Android移动设备
- 响应式设计，适配不同屏幕尺寸
- 支持微信内置浏览器

## 6. 部署需求

### 6.1 服务器环境
- 操作系统：Windows/Linux
- Python 3.8+
- 内存：4GB以上
- 存储：50GB以上
- 网络：稳定的互联网连接

### 6.2 部署方式
- 本地服务器部署
- 支持Docker容器化部署
- 提供一键启动脚本
- 支持云服务器部署

### 6.3 数据备份
- 自动数据备份机制
- 支持手动备份导出
- 数据恢复功能
- 备份文件加密存储

## 7. 项目交付物

### 7.1 软件交付
- 完整的源代码
- 可执行程序包
- 数据库初始化脚本
- 部署和安装文档

### 7.2 文档交付
- 系统设计文档
- 用户操作手册
- 管理员手册
- API接口文档
- 数据库设计文档

### 7.3 培训支持
- 系统操作培训
- 管理员培训
- 技术支持文档
- 常见问题解答

## 8. 项目时间计划

### 8.1 开发阶段
- 需求确认：1天
- 系统设计：1天
- 后端开发：3天
- 前端开发：3天
- 系统集成：1天
- 测试调试：1天

### 8.2 部署阶段
- 环境准备：0.5天
- 系统部署：0.5天
- 数据导入：0.5天
- 系统测试：0.5天

### 8.3 上线准备
- 用户培训：1天
- 现场支持：比赛当天
- 后续维护：按需提供

## 9. 风险评估

### 9.1 技术风险
- 高并发访问压力
- 网络连接稳定性
- 移动设备兼容性
- 数据安全风险

### 9.2 业务风险
- 需求变更风险
- 时间进度风险
- 用户接受度风险
- 现场操作风险

### 9.3 风险应对
- 性能压力测试
- 网络备用方案
- 多设备兼容测试
- 数据加密和备份
- 充分的用户培训
- 现场技术支持

## 10. 成功标准

### 10.1 功能标准
- 所有核心功能正常运行
- 签到成功率 > 95%
- 评分系统准确无误
- 数据导出完整准确

### 10.2 性能标准
- 系统响应时间符合要求
- 支持预期并发用户数
- 无重大系统故障
- 数据一致性和完整性

### 10.3 用户满意度
- 操作界面友好易用
- 功能满足业务需求
- 系统稳定可靠
- 技术支持及时有效

---

**文档版本：** V1.0  
**创建日期：** 2024年8月30日  
**最后更新：** 2024年8月30日  
**文档状态：** 待确认